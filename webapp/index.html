<!doctype html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="PiKite Aerial Photography Controller.">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
        <title>PiKite Aerial Photography</title>

        <!-- Add to homescreen for Chrome on Android -->
        <meta name="mobile-web-app-capable" content="yes">
        <link rel="icon" sizes="192x192" href="images/android-desktop.png">

        <link rel="shortcut icon" href="images/favicon.png">

        <script src="js/material.min.js"></script>

        <link rel="stylesheet" href="css/mdl.css">
        <link rel="stylesheet" href="css/main.css">

        <script type="text/javascript" src="js/loader.js"></script>

        <script type="text/javascript">
            google.charts.load('current', {'packages':['line']});
            google.charts.setOnLoadCallback(drawChart);

            var data
            var chart
            var options

          function drawChart() {
            data = new google.visualization.DataTable();

            data.addColumn('number', 'Time')
            data.addColumn('number', 'Altitude')

            data.addRows([
                [0,0]
            ]);

            var options = {
              title: '',
              vAxis: {title: 'Altitude'},
              legend: { position: 'none' },
              animation: {duration: 1000, easing: 'inAndOut'}
            };

            var chart = new google.charts.Line(document.getElementById('curve_chart'));

            setInterval(function(){ chart.draw(data, google.charts.Line.convertOptions(options)); }, 1000);

          }
        </script>

    </head>

    <body>
        <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
            <header class="mdl-layout__header">
                <div class="mdl-layout__header-row">
                <!-- Title -->
                    <span class="mdl-layout-title">PiKite Aerial Photography</span>

                    <div class="mdl-layout-spacer"></div>

                    <!-- Right aligned menu below button -->
                    <button id="settings-menu" class="mdl-button mdl-js-button mdl-button--icon">
                      <i class="material-icons">settings</i>
                    </button>

                    <button id="power_options" class="mdl-button mdl-js-button mdl-button--icon">
                      <i class="material-icons">power_settings_new</i>
                    </button>
                </div>

                <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
                    for="settings-menu">
                  <li class="mdl-menu__item">Some Action</li>
                  <li class="mdl-menu__item">Another Action</li>
                  <li disabled class="mdl-menu__item">Disabled Action</li>
                  <li class="mdl-menu__item">Yet Another Action</li>
                </ul>
            </header>
            <div class="mdl-layout__drawer">
                <img class="pikite-logo" src="images/logo.svg" />
                <nav class="mdl-navigation">
                    <a class="mdl-navigation__link" href="">Link</a>
                    <a class="mdl-navigation__link" href="">Link</a>
                    <a class="mdl-navigation__link" href="">Link</a>
                    <a class="mdl-navigation__link" href="">Link</a>
                </nav>
            </div>
            <div id="connection-dialog">
                <div class="mdl-dialog">
                    <div id="connect-dialog">
                        <h4 class="mdl-dialog__title">Connect to PiKite</h4>
                        <div class="mdl-dialog__content">
                            <p>
                                You need to connect to the PiKite before you can access this page. Click connect below and then enter the password.
                            </p>
                        </div>
                        <div class="mdl-dialog__actions--full-width">
                            <button id="connect-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">Connect</button>
                        </div>
                    </div>
                    <div id="connect-spinner" class="mdl-spinner mdl-js-spinner is-active" style="display:none;"></div>
                    <div id="password-dialog">
                        <h4 class="mdl-dialog__title">Enter Password</h4>
                        <div class="mdl-dialog__content">
                            <p id="password-alert"></p>
                            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="password" id="password-input">
                                <label class="mdl-textfield__label" for="password-input">PiKite Password . . .</label>
                              </div>
                        </div>
                        <div class="mdl-dialog__actions--full-width">
                            <button id="password-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored">Submit</button>
                        </div>
                    </div>
                    <div id="success-dialog">
                        <h4 class="mdl-dialog__title">Success!</h4>
                        <div class="mdl-dialog__content">
                            <p id="success-alert"></p>
                        </div>
                    </div>
                    <div id="failure-dialog">
                        <h4 class="mdl-dialog__title">Uh-Oh!</h4>
                        <div class="mdl-dialog__content">
                            <p id="failure-alert"></p>
                        </div>
                    </div>
                </div>
            </div>
            <main class="mdl-layout__content mdl-color--grey-100">
                <div class="mdl-grid page-content">
                    <div class="mdl-cell mdl-cell--12-col mdl-cell--middle mdl-grid">
                        <div class="mdl-cell mdl-cell--6-col mdl-cell--stretch mdl-grid">
                            <div class="main-image mdl-card mdl-card__media mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                                <img id="pikite-image" src="images/placeholder.png" />
                            </div>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col mdl-cell--stretch mdl-grid">
                            <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--6-col">
                                <div class="mdl-card__title mdl-card--border">
                                        <h1 class="mdl-card__title-text">Runtime:</h1>
                                </div>
                                <span id="runtime" class="pikite-info-text">00:00</span>
                            </div>
                            <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--6-col">
                                <div class="mdl-card__title mdl-card--border">
                                        <h1 class="mdl-card__title-text">Altitude:</h1>
                                </div>
                                <span id="altitude" class="pikite-info-text">0.00'</span>
                            </div>
                            <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                                <div style="height:100%; width: 100%;">
                                    <div id="curve_chart" style="padding: 16px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
                  <div class="mdl-snackbar__text"></div>
                  <button class="mdl-snackbar__action" type="button"></button>
                </div>
            </main>
        </div>
    </body>
    <script type="text/javascript" src="js/WebSocket-client.js"></script>
</html>
